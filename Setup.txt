# ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t vÃ  cháº¡y há»‡ thá»‘ng Order Management

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

Táº¡o cáº¥u trÃºc thÆ° má»¥c nhÆ° sau:

```
order_management/
â”œâ”€â”€ main.py                 # FastAPI server (tá»« artifact)
â”œâ”€â”€ db_helper.py           # File database helper cá»§a báº¡n
â”œâ”€â”€ generic_helper.py      # File helper cá»§a báº¡n  
â”œâ”€â”€ requirements.txt       # Dependencies
â”œâ”€â”€ static/
â”‚   â””â”€â”€ index.html        # Giao diá»‡n web (tá»« artifact)
â””â”€â”€ README.md
```

## ğŸ“¦ CÃ i Ä‘áº·t dependencies

```bash
# Táº¡o virtual environment (khuyáº¿n nghá»‹)
python -m venv venv

# KÃ­ch hoáº¡t virtual environment
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# CÃ i Ä‘áº·t packages
pip install fastapi uvicorn psycopg2-binary
```

## ğŸ”§ Cáº¥u hÃ¬nh Database

1. Äáº£m báº£o PostgreSQL Ä‘ang cháº¡y
2. Kiá»ƒm tra thÃ´ng tin káº¿t ná»‘i trong `db_helper.py`:
   ```python
   cnx = psycopg2.connect(
       host="localhost",
       user="postgres", 
       password="admin",
       database="shopDB"
   )
   ```

## ğŸƒâ€â™‚ï¸ Cháº¡y á»©ng dá»¥ng

```bash
# Cháº¡y FastAPI server
python main.py

# Hoáº·c sá»­ dá»¥ng uvicorn trá»±c tiáº¿p
uvicorn APIBackend:app --host 0.0.0.0 --port 8000 --reload
```

## ğŸŒ Truy cáº­p á»©ng dá»¥ng

- **Giao diá»‡n web**: http://localhost:8000
- **API Documentation**: http://localhost:8000/docs
- **Health check**: http://localhost:8000/health

## ğŸ” API Endpoints

### 1. Láº¥y Ä‘Æ¡n hÃ ng theo Customer ID
```
GET /api/orders?customer_id=1
```

### 2. Láº¥y Ä‘Æ¡n hÃ ng theo tÃªn khÃ¡ch hÃ ng
```
GET /api/orders?customer_name=Emma Wang
```

### 3. Láº¥y thÃ´ng tin khÃ¡ch hÃ ng
```
GET /api/customer/1
```

### 4. TÃ¬m khÃ¡ch hÃ ng theo email/phone
```
GET /api/customer/search?email=john@example.com
GET /api/customer/search?phone=0987654321
```

## ğŸ› ï¸ Troubleshooting

### Lá»—i káº¿t ná»‘i database:
1. Kiá»ƒm tra PostgreSQL cÃ³ Ä‘ang cháº¡y
2. XÃ¡c nháº­n thÃ´ng tin káº¿t ná»‘i trong `db_helper.py`
3. Kiá»ƒm tra firewall/port 5432

### Lá»—i CORS:
- Server Ä‘Ã£ cáº¥u hÃ¬nh CORS, nhÆ°ng náº¿u cÃ³ váº¥n Ä‘á», kiá»ƒm tra domain trong `CORSMiddleware`

### Lá»—i khÃ´ng tÃ¬m tháº¥y file:
- Äáº£m báº£o `index.html` náº±m trong thÆ° má»¥c `static/`
- Kiá»ƒm tra Ä‘Æ°á»ng dáº«n file trong `serve_homepage()`

## ğŸ“ Ghi chÃº

1. **Production deployment**: 
   - Thay Ä‘á»•i `allow_origins=["*"]` thÃ nh domain cá»¥ thá»ƒ
   - Sá»­ dá»¥ng HTTPS
   - Cáº¥u hÃ¬nh environment variables cho DB connection

2. **Database optimization**:
   - ThÃªm connection pooling
   - Implement caching cho frequently accessed data
   - Add database indexes náº¿u cáº§n

3. **Security**:
   - ThÃªm authentication/authorization
   - Validate input parameters
   - Rate limiting

## ğŸ¯ Test thá»­ nghiá»‡m

Dá»±a trÃªn file `unitest.txt` cá»§a báº¡n, test vá»›i:
- Customer ID: 1, 3
- Customer name: "Emma Wang"

## ğŸ”„ Má»Ÿ rá»™ng

CÃ³ thá»ƒ dá»… dÃ ng thÃªm cÃ¡c endpoint khÃ¡c nhÆ°:
- Táº¡o Ä‘Æ¡n hÃ ng má»›i
- Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng  
- XÃ³a Ä‘Æ¡n hÃ ng
- Upload file excel/csv
- Export bÃ¡o cÃ¡o